# 평균(Average)

- Average
  - 통계에서의 average는 우리가 일반적으로 사용하는 수학적 평균만을 의미하지는 않는다.
    - 수학적 평균은 아래에서 살펴볼 mean으로 표현한다.
  - 통계에서의 average는 "평균" 보다는 "대표값"을 의미한다.
    - 대표값에는 다양한 형태가 있을 수 있다.
    - 아래에서 살펴볼 mean, median, mode 등은 모두 대표값의 다양한 형태이다.
  - 다만 경우에 따라 average가 mean의 하위 범주에 속한다고 설명하는 사람도 있다.
    - Mean은 산술 평균, 기하 평균, 조화 평균 등 다양한 종류의 평균을 포괄하는 의미로 보는 경우
    - Average는 다양한 평균 중 산술 평균만을 표현하는 개념이라고 보기도 한다.



- 평균값(mean)

  - 평균을 구하는 일반적인 방법은 평균값을 계산하는 것이다.
    - 평균값이란 숫자를 모두 더한 다음 숫자의 전체 개수로 나눈 것을 의미한다.
    - 평균값은 수학적으로 아래와 같이 표현할 수 있으며 그리스 문자 뮤($\mu$)로 표기한다.
    - $x$는 모든 수를, $n$은 수들의 총 개수를 의미한다.

  $$
  \mu = \frac{\sum x}{n}
  $$

  - 평균 값에 도수(각 숫자의 개수) 개념을 적용하면 아래와 같이 표현할 수 있다.
    - $f$는 모든 도수를, $x$는 모든 수를, $n$은 수들의 총 개수를 의미한다.
    - 예를 들어 [1, 2, 2, 2, 3, 3]과 같은 나이의 집합이 있다고 할 때, 1의 도수는 1, 2의 도수는 3, 3의 도수는 2이다.
    - 위 나이의 집합의 평균은 `1+2+2+2+3+3/1+3+2`과 같이 구할 수 있고, 이는 `숫자 * 도수 / 도수의 합`으로도 구할 수 있다.
    - 즉 `1+2+2+2+3+3/1+3+2 = 1*1 + 2*3 + 3*2 / 1 + 3 + 2`와 같다.
    - 이와 같은 과정을 수식으로 옮기면 아래와 같다.

  $$
  \mu = \frac{\sum fx}{\sum f}
  $$



  - 이상치(Outlier)와 편향

    - 이상치
      - 데이터에 다른 값에 비해 매우 크거나 작은 값이 존재한다면 해당 값으로 인해 평균값이 상승하거나 하락하게 된다.
      - 예를 들어 [1, 2, 3, 4, 50]과 같은 데이터가 있을 때 평균값은 12이지만, 실제 대부분의 데이터는 5 미만이다.
      - 이는 50이라는 이상치가 평균값을 끌어올렸기 때문이다.
      - 이와 같이 극단적인 값을 이상치라고한다.


      - 데이터 편향(skew)
        - 이상치에 의해 데이터가 한 쪽으로 치우치게 되는 경우를 말한다.
        - 치우친 방향에 따라 좌편향, 우편향으로 나눠서 말하기도 한다.
        - 예를 들어 아래 데이터는 평균값을 상승시키면서 우편향되어 있다.
        - 그래프 상에서 좌편향된 데이터는 그래프의 꼬리가 왼쪽을 향하고, 우편향된 데이터는 그래프의 꼬리가 오른쪽을 향한다.


    | 값   | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    |
    | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
    | 도수 | 4    | 6    | 4    | 4    | 3    | 2    | 1    | 1    |



- 중앙값(median)

  - 중앙에 있는 값을 의미하며, 중앙값 역시 다른 종류의 평균이다.
    - 평균값과 달리 편향된 데이터와 이상치로 인해 그릇된 정보를 제공하지 않는다는 장점이 있다.
    - 예를 들어 [1, 2, 3, 4, 50]과 같은 데이터가 있을 때의 평균값은 12이지만, 중앙값은 가운데 위치한 3으로, 평균값에 비해 이상치의 영향을 덜 받는다.
    - 만약 데이터의 개수가 짝수일 경우 가운데에 있는 두 수의 평균값을 취하면 된다.
  - 도수 고려하기
    - 중앙값을 찾을 때도 당연히 도수를 고려해야 한다.
    - 아래와 같은 데이터가 있을 때 중앙값은 값들의 중앙인 3이라 생각할 수 있지만, 중앙값을 구할 때는 도수도 고려해야한다.
    - 아래 데이터는 사실 풀어서 표현하면 [1,2,2,3,3,3,4,4,4,4,5,5,5,5,5]와 같으므로 중앙값은 3이 아닌 4가 된다.

  | 값   | 1    | 2    | 3    | 4    | 5    |
  | ---- | ---- | ---- | ---- | ---- | ---- |
  | 도수 | 1    | 2    | 3    | 4    | 5    |




- 최빈값(mode)
  - 데이터 집합에서 가장 많이 나타나서 도수가 가장 높은 값을 의미하며, 평균의 일종이다.
    - 데이터 집합이 하나 이상의 최빈값을 가질 수도 있다.
    - 즉 도수가 가장 높은 값이 여러 개일 경우 그 값들이 모두 최빈값이다.
    - 데이터 집합이 두 개의 최빈값을 가지고 있으면 데이터를 이봉(bimodal)이라고 한다.
  - 최빈값은 범주적 데이터를 위해서도 사용될 수 있다.
    - 최빈값은 수치적 데이터뿐 아니라 범주적 데이터에도 사용할 수 있다.
    - 최빈값은 평균들 중 범주적 데이터를 사용할 수 있는 유일한 평균이다.
  - 최빈 계급(modal class)
    - 최빈갑은 가장 도수가 높은 값들의 그룹을 위해서도 사용할 수 있다.
    - 이 때 가장 높은 도수를 갖는 값들의 범주나 그룹을 최빈계급이라 한다.







# 변이와 분포

- 범위(range)
  - 평균의 한계와 범위의 필요성
    - 평균은 데이터의 중심이 어디쯤인지를 알려주지만, 데이터가 어떤 식으로 변화하는지에 대해서는 알려주지 않는다.
    - 데이터가 평균을 중심으로 어떻게 분포되어 있는지 살펴보는 것도 중요하다.
    - 범위는 데이터가 얼마나 많은 숫자 값을 포함하고 있는지 알려준다.
  - 범위를 찾는 방법
    - 범위를 찾으려면 데이터 집합에 있는 가장 큰 수에서 가장 작은 수를 빼면 된다.
    - 가장 작은 값을 하한(lower bound), 가장 큰 값을 상한(upper bound)이라 한다.
    - 예를 들어 [7, 8, 9, 9, 10, 10, 11, 12, 13]과 같은 데이터가 있을 때, 하한은 7, 상한은 13이다.
    - 범위는 상한에서 하한을 빼면 되므로, 위 데이터 집합의 범위는 13-7=6이 된다.
  - 범위의 한계
    - 범위는 그 자체로는 데이터의 폭만 설명할 뿐 그 안에서 데이터가 분포되는 방식은 설명해주지 않는다.
    - 예를 들어 [8, 9,  9, 10, 10, 10, 11, 11, 12]와 [8, 10, 10, 10, 10, 10, 10, 10, 10, 12]와 같은 두 데이터 집합이 있다고 가정해보자.
    - 둘 다 범위는 4로 동일하지만, 두 데이터 집합의 실제 분포에는 차이가 있다.
    - 즉, 범위는 값들이 얼마나 넓게 분포되어 있는지에 대해서만 설명할 수 있을 뿐 실제로 분포되는 방식에 대해서는 설명하지 못한다.



- 이상치 제거하기
  - 이상치가 있을 경우 범위는 그릇된 정보를 제공해줄 수도 있다.
    - 예를 들어 아래와 같은 두 집합이 있다고 가정해보자.
    - [1,1,1,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,5], [1,1,1,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,5,10]
    - 첫 번째 집합의 범위는 4이며 수들이 상한과 하한 사이에 상당히 균등하게 분포되어 있고, 특별한 이상치도 없다.
    - 두 번째 집합은 상한이 10으로 커졌기 때문에 범위는 9가 된다.
    - 만일 두 번째 집합에 이상치인 10이 없을 경우 두 집합은 완전히 동일하다.
  - 미니 범위(mini range)
    - 범위의 문제점은 범위의 정의 자체가 이상치를 포함할 수 밖에 없다는 것이다.
    - 만약 데이터에 이상치가 하나라도 포함되어 있으면 범위는 이상치를 포함하게 된다.
    - 따라서 이상치의 효과를 상쇄할 수 있는 방법이 필요한데, 그 중 하나가 미니 범위이다.
    - 미니 범위는 이상치를 무시하는 범위로, 데이터 전체의 범위를 측정하는 대신 이상치를 포함하지 않는 부분적인 범위를 측정한다.
    - 다만 미니 범위를 사용할 경우 어떤 기준으로 이상치를 무시할 것인지가 문제가 된다.



- 사분범위(interquartile range, IQR)
  - 미니 범위를 구성하는 방법 중 하나는 데이터 중심 근처에 있는 값들을 이용하는 것이다.
    - 우선 값들을 오름차순으로 정렬할고, 이들을 크기가 같은 네 개의 조각으로 나눈다.
    - 이 때 각 조각은 데이터의 1/4를 포함한다.
    - 그 후 양쪽 끝의 두 개의 조각을 제외하고 가운데 있는 두 개의 조각으로만 범위를 구성한다.
  - 사분위수
    - 데이터를 동일한 크기의 조각으로 나누는 값들을 사분위수라고 한다.
    - 값이 가장 작은 사분위수는 하한 사분위수 혹은 일사분위수(Q1)라고 하고, 값이 가장 큰 사분위수는 상한 사분위수 혹은 삼사분위수(Q3)라고 한다.
    - 가운데 있는 사분위수(Q2)는 데이터를 절반으로 나누므로 중앙값에 해당한다.
  - 사분범위
    - 하한 사분위수와 상한 사분위수 사이에 존재하는 범위를 사분범위라 한다.
    - 사분범위는 상한 사분위수에서 하한 사분위수를 빼는 방식으로 구한다.
    - 사분범위를 사용하면 실질적으로 이상치를 제거할 수 있다.

  - 사분위수를 구하는 방법
    - 데이터 집합에서 사분위수를 구하는 과정은 중앙값을 찾는 과정과 거의 비슷하다.
    - 하한 사분위수의 위치를 구하는 방식은 아래와 같다.
    - 우선 n / 4를 계산한다.
    - 만약 결과가 정수면 하한 사분위수의 위치는 이 정수의 위치의 값과 그 다음에 오는 값 사이가 되며, 두 값의 평균값을 구하면 하한 사분위수를 얻을 수 있다.
    - 만약 결과가 정수가 아니면 올림을 하면 된다.
    - 예를 들어 6개의 수가 있다면 6/4를 해서 1.5를 얻고, 이것을 올림한 2가 하한 사분위수의 위치가 된다.
    - 상한 사분위수의 위츠를 구하는 방식은 아래와 같다.
    - 우선 3n / 4를 계산한다.
    - 만약 결과가 정수면 상한 사분위수의 위치는 이 정수의 위치의 값과 그 다음에 오는 값 사이가 되며, 두 값의 평균값을 구하면 상한 사분위수를 얻을 수 있다.
    - 만약 결과가 정수가 아니면 올림을 하면 된다.

  - 사분위수만 쓸 수 있는 것은 아니다.
    - 사분위수를 사용한 사분범위가 흔히 사용되기는 하지만, 사분범위가 유일한 미니범위인 것은 아니다.
    - 예를 들어 데이터 집합을 4개의 조각이 아니라 각 조각이 10%의 데이터를 담고 있도록 10개의 조각으로 나눌수도 있다.
    - 만약 조각을 열개로 나눌 경우 데이터를 분할하는 값을 십분위수라 한다.



- 백분위수(percentile)

  - 데이터 집합을 퍼센트를 이용해서 분할하는 경우, 데이터를 분할하는 값을 백분위수라고 한다.
    - 각 백분위수는 데이터를 나누는 퍼센트 값으로 참조된다.
    - 따라서 10번째 백분위수는 데이터를 10% 지점에서 분할하는 값이다.
    - 일반적으로 k번째 백분위수는 데이터를 k% 지점에서 분할하며, 이것을 P<sub>k</sub>라고 표기한다.
    - 사분위수도 백분위수의 한 종류이며, 하한 사분위수는 P<sub>25</sub>이고, 상한 사분위수는 P<sub>75</sub>이며, 중앙값은 P<sub>50</sub>이다.

  - 백분위수 찾는 방법
    - 우선 모든 값을 오름차순으로 정렬한다.
    - n개의 숫자 중에서 k번째 백분위수의 위치를 찾으려면 우선 k(n/100)을 계산한다.
    - 만약 결과가 정수면 백분위수의 위치는 이 정수 위치의 값과 그 다음에 오는 값 사이가 되며, 두 수의 평균을 구하면 백분위수의 위치를 얻을 수 있다.
    - 만약 결과가 정수가 아니면 올림을 한다.
  - 백분위수를 찾는 예시
    - 예를 들어 125개의 숫자가 있을 때 백분위수를 찾는 방법은 아래와 같다.
    - 먼저 10 * 125 / 100을 계산하여 12.5라는 숫자를 얻는다.
    - 이것을 올림하면 13이므로 10번째 백분위수의 위치는 13이 된다.
  - 백분위수는 어떤 값이 다른 값들에 비해 얼마나 높은지를 결정할 때 사용된다.
    - 따라서 백분위수는 벤치마킹이나 등수나 위치를 정하는데 유용하게 사용된다.
    - 예를 들어 통계학 시험에서 50점을 맞았다고 가정해보자.
    - 50점이라는 점수만 보고는 다른 사람들에 비해 얼마나 잘 봤는지 알 수 없다.
    - 그러나 그 시험에서 90번째 백분위수의 값이 50이라는 말을 들으면 자신보다 시험을 못 본 사람이 90%나 있다는 사실을 알 수 있게 된다.
    - P<sub>90</sub> = 50의 의미는 데이터를 90% 지점에서 분할하는 값이 50이라는 의미이다.
    - 즉 50 이전에 90%의 데이터들이 있고, 50 이후에 10%의 값이 있다는 것을 의미한다.



- 상자 수염 다이어그램(box and whiscker diagram, box plot)
  - 다른 종류의 범위를 서로 비교할 수 있도록 시각적으로 표현해주는 차트이다.
    - 데이터 집합의 범위, 사분범위, 중앙값을 보여준다.
    - 동일한 차트 위에 하나 이상의 데이터 집합을 표현할 수 있기에 데이터를 서로 비교하는데 매우 유용하다.
  - 상자 수염 다이어그램의 구조
    - 상자의 왼쪽 면과 오른쪽 면은 표현하고자 하는 데이터의 하한 사분위수와 상한 사분위수에 일치해야한다.
    - 상자 안에 중앙값을 표현하기 위한 선을 그린다.
    - 이 상자는 사분범위를 나타낸다.
    - 그 후 데이터의 상한과 하한을 나타내기 위해 상자 양쪽에 수염을 그린다.
  - 상자 수염 다이어그램에서 수염의 길이는 상한과 하한에 따라 증가한다.
    - 따라서 상자 수염 다이어그램에서 수염이 얼마나 긴지 살펴보면 데이터가 얼마나 편향되었는지 알 수 있다.



- 분산

  - 변이는 데이터의 분포가 퍼져있는 정도를 의미한다.
    - 값들이 평균값으로부터 떨어져 있는 거리의 평균을 계산하여 변이와 분포를 측정한다.
  - 평균 거리는 단순한 평균으로는 구할 수 없다.
    - 1, 2, 9 라는 세 개의 값이 있다고 할 때 평균값은 4이다.
    - 이 값들이 평균으로부터 떨어져 있는 거리의 평균은 (3+2+(-5))/3로 0이다.
    - 이처럼 각 값들이 평균으로부터 떨어져 있는 값들의 거리의 평균은 언제나 0이 된다.
  - 분산(variance)
    - 평균값으로부터 떨어져 있는 값들의 평균 거리를 구하되, 거리가 서로 상쇄되어 0이 되지 않도록 하는 방법이 필요하다.
    - 평균값으로부터 거리를 제곱해서 음수가 없도록 하면 거리가 서로 상쇄되지 않는다.
    - 위 예시로 분산을 계산하면 (9+4+25)/3이 되어 12.67이 된다.
    - 분포를 이렇게 측정하는 방법을 분산이라고 한다.
    - 일반적인 공식은 아래와 같다.

  $$
  분산=\frac{\Sigma(x-\mu)}{n}
  $$



- 표준편차
  - 분산의 단점은 거리를 제곱한 값들이 분포되어 있는 모습을 머리 속에 생각하기 쉽지 않다는 점이다.
  - 표준편차를 사용하면 이러한 분산의 문제를 해결할 수 있다.
    - 표준편차는 분산에 제곱근을 씌우기만 하면 된다.
    - 위에서 구했던 분산 12.67에 제곱근을 씌우면 표준편차인 3.56을 구할 수 있다.
    - 이는 일반적인 값들은 평균으로부터 3.56만큼 떨어져 있다는 의미이다.











# Shorts

- 그래프
  - 파이차트
    - 데이터를 각자 구별되는 그룹이나 범주에 포함시켜 표현한다.
    - 동그란 원을 파이 조각처럼 생긴 부분으로 나누는 방식으로 구성된다.
    - 각 조각은 하나의 그룹을 나타내며, 각 조각의 크기는 그 그룹이 다른 그룹에 비해 상대적으로 얼마나 큰지 나타낸다.
    - 기본적인 비율을 서로 비교하고자 할 때 유용하게 사용할 수 있으나, 조각들이 서로 비슷한 크기를 가지고 있는 경우에는 큰 도움이 되지 않을 수 있다.
  - 막대 그래프
    - 파이 차트와 마찬가지로 상대적인 값을 비교할 수 있도록 해 주는데, 좀 더 정밀한 수준의 값을 나타낼 수 있다는 장점이 있다.
    - 특히 범주의 값이 대충 비슷한 값을 가질 때 더욱 유용하다.
    - 막대 그래프에서는 가각의 막대가 하나의 범주를 나타내며, 막대의 길이는 값을 의미한다.
    - 각 막대는 동일한 폭을 갖기에 서로 비교하는 것이 용이하다.
  - 히스토그램(Histogram)
    - 히스토그램은 막대 그래프와 거의 비슷하지만 두 가지 중요한 차이점을 갖는다.
    - 첫 번째 차이점은 막대의 면적이 도수에 비례한다는 것이고, 두 번째 차이점은 그래프에 존재하는 막대 사이에 공간이 없다는 것이다.
    - 히스토그램은 수치적 혹은 정량적 데이터를 표현하는 데 유리한데, 수치적 데이터를 연속적인 수치적 눈금으로 표현하기 때문이다.
    - 막대 사이에 공간이 없어야 하는 이유는 누락되는 값이 없이 모두 포함하되도록 하기 위함이다.
    - 히스토그램에서 각 막대의 면적은 도수에 비례해야한다.
    - 일반적으로 막대의 폭은 모두 같게 그리지만, 그렇지 않은 경우도 있다.
    - 만약 막대의 폭을 다르게 그려야 할 경우 각 막대의 면적이 도수에 비례하도록 그래프를 구성해야한다.



- Data와 infromation의 차이
  - Data는 수집된 날 것 그대로의 사실과 숫자를 의미한다.
  - 정보는 약간의 의미가 부여된 데이터를 가리킨다.
  - 예시
    - 5,6,7 이라는 숫자는 그냥 숫자에 불과하며, 이 때 이들은 data이다.
    - 그런데, 이 것이 각기 사과, 배, 귤의 개수를 의미한다는 설명이 붙어있다면, 이들은 일정 의미를 갖는 information이 된다.



- 도수(frequency)
  - 어떤 특정한 그룹이나 범위 안에 얼마나 많은 항목이 들어 있는지 나타내는 값이다.
  - 즉, 항목의 수를 센 값이다.

